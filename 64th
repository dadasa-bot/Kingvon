local screenGui = Instance.new("ScreenGui", game:GetService("CoreGui"))
screenGui.Name = "screenGui"

-- Water ImageButton
local btn = Instance.new("ImageButton", screenGui)
btn.Name = "WaterSpeedBtn"
btn.Image = "rbxassetid://13129884510" -- Water texture (replace if needed)
btn.ImageTransparency = 0.3
btn.Size = UDim2.new(0, 100, 0, 40)
btn.Position = UDim2.new(0, 30, 0, 30)
btn.BackgroundColor3 = Color3.fromRGB(0, 100, 255)
btn.BackgroundTransparency = 0.7
btn.Active = true
btn.Draggable = true

-- Add TextLabel inside the ImageButton
local speedText = Instance.new("TextLabel", btn)
speedText.Name = "SpeedText"
speedText.Size = UDim2.new(1, 0, 1, 0) -- Fills entire button
speedText.BackgroundTransparency = 1 -- Invisible background
speedText.Text = "Speed: 16"
speedText.TextColor3 = Color3.fromRGB(255, 255, 255)
speedText.Font = Enum.Font.GothamBlack
speedText.TextScaled = true

local uibtn = Instance.new("UICorner", btn)
uibtn.CornerRadius = UDim.new(0, 10)

-- Rest of the script remains the same
local gmt = getrawmetatable(game)
setreadonly(gmt, false)

local oldIndex = gmt.__index
gmt.__index = newcclosure(function(self, key)
    if tostring(self) == "Humanoid" and key == "WalkSpeed" then
        return 20 -- Fake value
    end
    return oldIndex(self, key)
end)

print("Metatable hooked.")

-- Character handling
local Players = game:GetService("Players")
local lp = Players.LocalPlayer

local humanoid
local fast = false

local function updateSpeed()
    if humanoid then
        humanoid.WalkSpeed = fast and 100 or 16
        speedText.Text = fast and "Speed: 100" or "Speed: 16" -- Update TextLabel now
    end
end

local function setupCharacter(char)
    humanoid = char:WaitForChild("Humanoid")
    updateSpeed()
    
    humanoid:GetPropertyChangedSignal("WalkSpeed"):Connect(function()
        if humanoid.WalkSpeed ~= (fast and 100 or 16) then
            updateSpeed()
        end
    end)
end

lp.CharacterAdded:Connect(setupCharacter)
if lp.Character then setupCharacter(lp.Character) end

-- Toggle speed on click
btn.MouseButton1Click:Connect(function()
    fast = not fast
    updateSpeed()
end)

